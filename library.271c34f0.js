!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire7ae9;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){r[e]=t},t.parcelRequire7ae9=a);var l=a("bpxeT"),o=a("8nrFW"),i=a("2TvXO"),d=a("dCfNN"),c=a("4Nugj"),u=a("9VC5X"),s=a("dEmTs"),f=a("UL92Z"),v=a("6mu73"),g=a("kfpeU"),m=a("iw235"),p=a("k7GPO"),b=a("UeXj6"),L=a("6JpON");function E(e){y(e.target)}function y(t){var n;t.classList.add("btn--active"),t.setAttribute("disabled",!0);var r=e(o)(t.parentElement.children).find((function(e){return e!==t}));if(r.classList.remove("btn--active"),r.removeAttribute("disabled"),"watched"===t.dataset.value&&(n=(0,f.getLocalStorage)(c.WATCHED)),"queue"===t.dataset.value&&(n=(0,f.getLocalStorage)(c.QUEUE)),n.forEach((function(e){e.genre_ids=e.genres.map((function(e){return e.id}))})),!n.length)return console.log("abra"),c.gallery.innerHTML='<p class="empty">empty list</p>',void console.dir(c.gallery);var a=(0,v.default)(n);c.gallery.innerHTML="",c.gallery.insertAdjacentHTML("beforeend",a),c.gallery.addEventListener("click",T)}function T(e){return h.apply(this,arguments)}function h(){return(h=e(l)(e(i).mark((function t(n){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.default)(n);case 2:r=document.querySelector(".btn--active").dataset.value,document.querySelectorAll(".btn--modify")[1].style.display="none",(a=document.querySelectorAll(".btn--modify")[0]).removeAttribute("disabled"),a.innerHTML="watched"===r?"Remove from WATCHED":"Remove from QUEUE",document.getElementById("btn-collection").removeEventListener("click",c.globalHandlers.handleClickAddToCollection),a.addEventListener("click",w);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(e){var t,n=+e.target.dataset.movieId,r=document.querySelector(".btn--active");e.target.setAttribute("disabled",!0),L.Notify.success("Successful"),"watched"===r.dataset.value?(t=(0,f.getLocalStorage)(c.WATCHED).filter((function(e){return e.id!==n})),(0,f.setLocalStorage)(c.WATCHED,t),setTimeout((function(){(0,p.default)(c.modal),(0,b.default)(),c.modalFullMovie.innerHTML=""}),1e3),y(r)):(t=(0,f.getLocalStorage)(c.QUEUE).filter((function(e){return e.id!==n})),(0,f.setLocalStorage)(c.QUEUE,t),setTimeout((function(){(0,p.default)(c.modal),(0,b.default)(),c.modalFullMovie.innerHTML=""}),1e3),y(r))}(0,u.setThemeFirstRender)(),window.addEventListener("DOMContentLoaded",e(l)(e(i).mark((function t(){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Object,t.t1=c.genres,t.next=5,(0,m.default)();case 5:t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2),y(c.watchedBtnLibrary),c.watchedBtnLibrary.addEventListener("click",E),c.queueBtnLibrary.addEventListener("click",E),window.addEventListener("scroll",e(d)(s.default,500)),c.toggleThemeBtn.addEventListener("click",u.toggleTheme),t.next=18;break;case 14:return t.prev=14,t.t3=t.catch(0),console.log("Error",t.t3),t.abrupt("return",null);case 18:return t.prev=18,t.finish(18);case 20:case"end":return t.stop()}}),t,null,[[0,14,18,20]])}))))}();
//# sourceMappingURL=library.271c34f0.js.map
