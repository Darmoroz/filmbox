!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire7ae9;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire7ae9=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("dCfNN"),s=(a("bpxeT"),a("2TvXO"),a("b7ONl")),l=a("4Nugj"),c=a("k7GPO"),f=a("6mu73"),d=a("kfpeU"),p=(l=a("4Nugj"),o=a("bpxeT"),i=a("2TvXO"),a("6JpON"));s=a("b7ONl"),l=a("4Nugj"),c=a("k7GPO"),f=a("6mu73");function v(){return(v=e(o)(e(i).mark((function t(n,r){var a,o,u,d,v;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1===r&&(l.gallery.innerHTML="",x()),(0,c.default)(l.loader),e.prev=2,e.next=5,(0,s.getMovies)("search/movie",{query:n.value,page:r});case 5:if(a=e.sent,o=a.data.results,u=a.data.total_pages,o.length){e.next=12;break}return p.Notify.info("".concat(n.value," nothing found. Try again."),{position:"center-top",fontSize:"16px",info:{textColor:"#000"}}),l.searchMovieForm.searchMovieQuery.value="",e.abrupt("return");case 12:if(!(r>u)){e.next=15;break}return p.Notify.info("It was last page",{position:"center-top",fontSize:"16px",info:{textColor:"#000"}}),e.abrupt("return");case 15:d=(0,f.default)(o),l.gallery.insertAdjacentHTML("beforeend",d),(v=document.querySelector(".movie-card:last-child"))&&b.observe(v),e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(2),console.log("Error",e.t0),e.abrupt("return",null);case 25:return e.prev=25,(0,c.default)(l.loader),e.finish(25);case 28:case"end":return e.stop()}}),t,null,[[2,21,25,28]])})))).apply(this,arguments)}var g=function(e,t){return v.apply(this,arguments)},h=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,m(l.pagination.nextPagePagination))}))})),b=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,g(l.queryMovie,l.pagination.nextPagePagination))}))}));function x(){l.pagination.nextPagePagination=1}function y(){return y=e(o)(e(i).mark((function t(){var n,r,a,o,u=arguments;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:1,(0,c.default)(l.loader),e.prev=2,e.next=5,(0,s.getMovies)("trending/movie/day",{page:n});case 5:r=e.sent,a=(0,f.default)(r.data.results),l.gallery.insertAdjacentHTML("beforeend",a),l.gallery.addEventListener("click",d.default),(o=document.querySelector(".movie-card:last-child"))&&h.observe(o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(2),console.log("Error",e.t0),e.abrupt("return",null);case 17:return e.prev=17,(0,c.default)(l.loader),e.finish(17);case 20:case"end":return e.stop()}}),t,null,[[2,13,17,20]])}))),y.apply(this,arguments)}var m=function(){return y.apply(this,arguments)},w=a("dEmTs"),T=(l=a("4Nugj"),a("9VC5X"));p=a("6JpON"),l=a("4Nugj");var M=function(e){e.preventDefault(),l.queryMovie.value=e.target.searchMovieQuery.value.trim(),l.queryMovie.value?g(l.queryMovie,1):p.Notify.info("Please enter request")},N=a("iw235");(0,T.setThemeFirstRender)(),window.addEventListener("DOMContentLoaded",e(o)(e(i).mark((function t(){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Object,t.t1=l.genres,t.next=5,(0,N.default)();case 5:t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2),m(),l.searchMovieForm.addEventListener("submit",M),document.body.addEventListener("scroll",e(u)(w.default,500)),l.toggleThemeBtn.addEventListener("click",T.toggleTheme),t.next=17;break;case 13:return t.prev=13,t.t3=t.catch(0),console.log("Error",t.t3),t.abrupt("return",null);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[0,13,17,19]])}))))}();
//# sourceMappingURL=index.19dfc6a1.js.map
