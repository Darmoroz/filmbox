function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequire7ae9;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire7ae9=r);var o=r("9OeKo"),i=r("7rYDH"),l=r("krGWQ"),s=r("6ZObK"),c=r("aLPhN"),u=r("boduE"),d=(l=r("krGWQ"),r("7Y9D8"));i=r("7rYDH"),c=r("aLPhN"),l=r("krGWQ"),s=r("6ZObK");var g=async function(e,t=1){1===t&&(l.gallery.innerHTML="",b()),(0,s.default)(l.loader);try{const a=await(0,i.getMovies)(`movie/${e}`,{page:t}),n=a.data.results;if(t>a.data.total_pages)return void d.Notify.info("It was last page",{position:"center-top",fontSize:"16px",info:{textColor:"#000"}});const r=(0,c.default)(n);l.gallery.insertAdjacentHTML("beforeend",r);const o=document.querySelector(".movie-card:last-child");o&&p.observe(o)}catch(e){return console.log("Error",e),null}finally{(0,s.default)(l.loader)}};d=r("7Y9D8"),i=r("7rYDH"),l=r("krGWQ"),s=r("6ZObK"),c=r("aLPhN");var f=async function(e,t){[...l.featuredBtns.querySelectorAll(".btn")].map((e=>{e.classList.remove("btn--active"),e.removeAttribute("disabled")})),1===t&&(l.gallery.innerHTML="",b()),(0,s.default)(l.loader);try{const a=await(0,i.getMovies)("search/movie",{query:e.value,page:t}),n=a.data.results,r=a.data.total_pages;if(!n.length)return d.Notify.info(`${e.value} nothing found. Try again.`,{position:"center-top",fontSize:"16px",info:{textColor:"#000"}}),void(l.searchMovieForm.searchMovieQuery.value="");if(t>r)return void d.Notify.info("It was last page",{position:"center-top",fontSize:"16px",info:{textColor:"#000"}});const o=(0,c.default)(n);l.gallery.insertAdjacentHTML("beforeend",o);const u=document.querySelector(".movie-card:last-child");u&&y.observe(u)}catch(e){return console.log("Error",e),null}finally{(0,s.default)(l.loader)}};const v=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,h(l.pagination.nextPagePagination))}))})),y=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,f(l.queryMovie,l.pagination.nextPagePagination))}))})),p=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,g(l.urlPath.value,l.pagination.nextPagePagination))}))}));function b(){l.pagination.nextPagePagination=1}var h=async function(e=1){(0,s.default)(l.loader);try{const t=await(0,i.getMovies)("trending/movie/day",{page:e}),a=(0,c.default)(t.data.results);l.gallery.insertAdjacentHTML("beforeend",a),l.gallery.addEventListener("click",u.default);const n=document.querySelector(".movie-card:last-child");n&&v.observe(n)}catch(e){return console.log("Error",e),null}finally{(0,s.default)(l.loader)}},m=r("hkaSy"),M=(l=r("krGWQ"),r("4S0r6"));d=r("7Y9D8"),l=r("krGWQ");var P=function(e){e.preventDefault(),l.queryMovie.value=e.target.searchMovieQuery.value.trim(),l.queryMovie.value?f(l.queryMovie,1):d.Notify.info("Please enter request")},L=r("aomY9");l=r("krGWQ");var w=async function(e){l.searchMovieForm.searchMovieQuery.value="";const t=e.target;if(t===e.currentTarget)return;const a=[...e.currentTarget.querySelectorAll(".btn")],n=a.filter((e=>e.classList.contains("btn--active")));if(n[0]?.removeAttribute("disabled"),n[0]!==t)switch(a.map((e=>e.classList.remove("btn--active"))),t.classList.add("btn--active"),t.setAttribute("disabled",!0),l.urlPath.value=t.dataset.value,l.urlPath.value){case"trend_day":l.gallery.innerHTML="",h();break;case"popular":case"top_rated":case"upcoming":g(l.urlPath.value);break;default:console.log("something wrong")}};(0,M.setThemeFirstRender)(),window.addEventListener("DOMContentLoaded",(async()=>{try{Object.assign(l.genres,await(0,L.default)()),h(),l.searchMovieForm.addEventListener("submit",P),document.body.addEventListener("scroll",e(o)(m.default,500)),l.toggleThemeBtn.addEventListener("click",M.toggleTheme),l.featuredBtns.addEventListener("click",w)}catch(e){return console.log("Error",e),null}}));
//# sourceMappingURL=index.357925ed.js.map
