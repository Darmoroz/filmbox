function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},l=t.parcelRequire7ae9;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return a[e]=l,t.call(l.exports,l,l.exports),l.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire7ae9=l);var o=l("9OeKo"),r=l("krGWQ"),d=l("4S0r6"),i=l("hkaSy"),c=l("31u3U"),s=l("aLPhN"),u=l("boduE"),f=l("aomY9"),g=l("6ZObK"),m=l("20Q1x"),v=l("7Y9D8");function b(e){E(e.target)}function E(e){let t;e.classList.add("btn--active"),e.setAttribute("disabled",!0);const a=[...e.parentElement.children].find((t=>t!==e));a.classList.remove("btn--active"),a.removeAttribute("disabled"),"watched"===e.dataset.value&&(t=(0,c.getLocalStorage)(r.WATCHED)),"queue"===e.dataset.value&&(t=(0,c.getLocalStorage)(r.QUEUE)),t.forEach((e=>{e.genre_ids=e.genres.map((e=>e.id))}));const n=(0,s.default)(t);r.gallery.innerHTML="",r.gallery.insertAdjacentHTML("beforeend",n),r.gallery.addEventListener("click",L)}async function L(e){console.log(+e.target.closest("li").dataset.id),await(0,u.default)(e);const t=document.querySelector(".btn--active").dataset.value;document.querySelectorAll(".btn--modify")[1].style.display="none";const a=document.querySelectorAll(".btn--modify")[0];a.removeAttribute("disabled"),a.innerHTML="watched"===t?"Remove from WATCHED":"Remove from QUEUE";document.getElementById("btn-collection").removeEventListener("click",r.globalHandlers.handleClickAddToCollection),a.addEventListener("click",y)}function y(e){const t=+e.target.dataset.movieId,a=document.querySelector(".btn--active");let n;e.target.setAttribute("disabled",!0),v.Notify.success("Successful"),"watched"===a.dataset.value?(n=(0,c.getLocalStorage)(r.WATCHED).filter((e=>e.id!==t)),(0,c.setLocalStorage)(r.WATCHED,n),setTimeout((()=>{(0,g.default)(r.modal),(0,m.default)(),r.modalFullMovie.innerHTML=""}),1e3),E(a)):(n=(0,c.getLocalStorage)(r.QUEUE).filter((e=>e.id!==t)),(0,c.setLocalStorage)(r.QUEUE,n),setTimeout((()=>{(0,g.default)(r.modal),(0,m.default)(),r.modalFullMovie.innerHTML=""}),1e3),E(a))}(0,d.setThemeFirstRender)(),window.addEventListener("DOMContentLoaded",(async()=>{try{Object.assign(r.genres,await(0,f.default)()),E(r.watchedBtnLibrary),r.watchedBtnLibrary.addEventListener("click",b),r.queueBtnLibrary.addEventListener("click",b),window.addEventListener("scroll",e(o)(i.default,500)),r.toggleThemeBtn.addEventListener("click",d.toggleTheme)}catch(e){return console.log("Error",e),null}}));
//# sourceMappingURL=library.51e6b967.js.map
