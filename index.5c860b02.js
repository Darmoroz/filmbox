function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire7ae9;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire7ae9=a);var o=a("9OeKo"),i=a("7rYDH"),l=a("krGWQ"),s=a("6ZObK"),d=a("aLPhN"),u=a("boduE"),c=(l=a("krGWQ"),a("7Y9D8"));i=a("7rYDH"),l=a("krGWQ"),s=a("6ZObK"),d=a("aLPhN");var f=async function(e,t){1===t&&(l.gallery.innerHTML="",l.pagination.nextPagePagination=1),(0,s.default)(l.loader);try{const n=await(0,i.getMovies)("search/movie",{query:e.value,page:t}),r=n.data.results,a=n.data.total_pages;if(!r.length)return c.Notify.info(`${e.value} nothing found. Try again.`,{position:"center-top",fontSize:"16px",info:{textColor:"#000"}}),void(l.searchMovieForm.searchMovieQuery.value="");if(t>a)return void c.Notify.info("It was last page",{position:"center-top",fontSize:"16px",info:{textColor:"#000"}});const o=(0,d.default)(r);l.gallery.insertAdjacentHTML("beforeend",o);const u=document.querySelector(".movie-card:last-child");u&&v.observe(u)}catch(e){return console.log("Error",e),null}finally{(0,s.default)(l.loader)}};const g=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,y(l.pagination.nextPagePagination))}))})),v=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),l.pagination.nextPagePagination+=1,f(l.queryMovie,l.pagination.nextPagePagination))}))}));var y=async function(e=1){(0,s.default)(l.loader);try{const t=await(0,i.getMovies)("trending/movie/day",{page:e}),n=(0,d.default)(t.data.results);l.gallery.insertAdjacentHTML("beforeend",n),l.gallery.addEventListener("click",u.default);const r=document.querySelector(".movie-card:last-child");r&&g.observe(r)}catch(e){return console.log("Error",e),null}finally{(0,s.default)(l.loader)}},p=a("hkaSy"),h=(l=a("krGWQ"),a("4S0r6"));c=a("7Y9D8"),l=a("krGWQ");var b=function(e){e.preventDefault(),l.queryMovie.value=e.target.searchMovieQuery.value.trim(),l.queryMovie.value?f(l.queryMovie,1):c.Notify.info("Please enter request")},m=a("aomY9");(0,h.setThemeFirstRender)(),window.addEventListener("DOMContentLoaded",(async()=>{try{Object.assign(l.genres,await(0,m.default)()),y(),l.searchMovieForm.addEventListener("submit",b),document.body.addEventListener("scroll",e(o)(p.default,500)),l.toggleThemeBtn.addEventListener("click",h.toggleTheme)}catch(e){return console.log("Error",e),null}}));
//# sourceMappingURL=index.5c860b02.js.map
